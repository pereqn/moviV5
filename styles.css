/* short styles, actual full styles are in previous message; keeping essential to run */
:root{--bg:#f7f7f8;--panel:#fff;--ink:#0f172a;--muted:#6b7280;--brand:#4f46e5;--accent:#22c55e;--danger:#ef4444;--border:#e5e7eb;--shadow:0 6px 20px rgba(0,0,0,.07);--radius:14px;}
:root[data-theme=dark]{--bg:#0b1220;--panel:#111827;--ink:#e5e7eb;--muted:#9ca3af;--brand:#6366f1;--border:#1f2937;}
*{box-sizing:border-box}body{margin:0;background:var(--bg);color:var(--ink);font-family:system-ui,Segoe UI,Arial}
.app{max-width:480px;margin:0 auto;min-height:100%;display:flex;flex-direction:column}
header{position:sticky;top:0;background:var(--bg);padding:10px 12px 8px}
.topbar{display:flex;align-items:center;justify-content:space-between;gap:8px}
.title{font-weight:800;font-size:16px}
.iconbtn{width:36px;height:36px;border-radius:10px;display:grid;place-items:center;background:var(--panel);box-shadow:var(--shadow);border:1px solid var(--border);cursor:pointer}
.iconbtn.sm{width:30px;height:30px}.iconbtn.active{outline:2px solid var(--brand)}
.datestrip{margin-top:8px;display:flex;gap:8px;justify-content:center}
.chip{padding:10px 14px;border-radius:999px;background:var(--panel);border:1px solid var(--border);box-shadow:var(--shadow);font-weight:700}
.chip.active{background:var(--brand);color:#fff;border-color:transparent}.dot{width:8px;height:8px;border-radius:999px;background:#d1d5db}.dot.active{background:var(--accent)}
.content{flex:1;padding:12px 12px 96px}.list{display:flex;flex-direction:column;gap:12px}
.card{background:var(--panel);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);padding:14px;position:relative}
.card h4{margin:0 0 8px;font-size:16px;display:flex;gap:6px;flex-wrap:wrap}.line{margin-top:6px}
.expand{display:none}.card.expanded .expand{display:block}.kebab{position:absolute;top:8px;right:8px;width:28px;height:28px;border-radius:8px;display:grid;place-items:center;border:1px solid var(--border)}
.menu{position:absolute;top:38px;right:8px;background:var(--panel);border:1px solid var(--border);border-radius:10px;display:none}
.badge{display:inline-block;font-size:10px;font-weight:800;padding:4px 8px;border-radius:999px}.badge.active{background:var(--brand);color:#fff}.badge.done{background:var(--accent);color:#fff}
.quick{display:flex;gap:8px;margin-top:8px}.icbtn{height:36px;width:36px;border-radius:10px;display:grid;place-items:center;border:1px solid var(--border);background:var(--panel);cursor:pointer}
.empty{text-align:center;color:var(--muted);padding:40px 12px}
.profile{padding:8px}.filterbar{display:flex;gap:8px;justify-content:center;margin-top:8px}.fchip{padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:var(--panel);font-weight:800}
.fchip.active{background:var(--brand);color:#fff;border-color:transparent}
.nav{position:fixed;left:0;right:0;bottom:0;background:rgba(255,255,255,.08);border-top:1px solid var(--border)}.navwrap{max-width:480px;margin:0 auto;display:grid;grid-template-columns:repeat(3,1fr);gap:0;padding:10px 14px}
.navbtn{height:52px;display:grid;place-items:center;border-radius:14px;border:1px solid var(--border);background:var(--panel)}.navbtn.active{outline:2px solid var(--brand)}
.modal{position:fixed;inset:0;background:rgba(15,23,42,.42);display:none;align-items:flex-end}.modal.open{display:flex}
.sheet{background:var(--panel);border-top-left-radius:18px;border-top-right-radius:18px;width:100%;max-width:480px;margin:0 auto;padding:16px;max-height:85vh;overflow:auto}
.btn{padding:12px 14px;border-radius:12px;border:1px solid var(--border);background:var(--panel);font-weight:700}.btn.primary{background:var(--brand);color:#fff;border-color:transparent}
.toast{position:fixed;left:0;right:0;bottom:72px;display:grid;place-items:center}.toast span{background:#111827;color:#fff;padding:10px 14px;border-radius:999px;display:inline-block;opacity:0;transform:translateY(10px);transition:.25s}
.toast.show span{opacity:1;transform:none}